(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{3237:(e,s,a)=>{Promise.resolve().then(a.bind(a,60731))},60731:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(95155),l=a(12115),r=a(12603),c=a(93402),n=a(75945),i=a(93873),m=a(51410);a(47650);let d=()=>{let[e,s]=(0,l.useState)(),[r,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{a.e(362).then(a.t.bind(a,41362,23)).then(e=>{e.load({key:"788e08def03f95c670944fe2c78fa76f",version:"2.0"}).then(e=>{s(e)})})},[]),(0,l.useEffect)(()=>{if(e){let s=new e.Map("map-container",{center:[113.7289,22.987976],zoom:18});new e.Marker({map:s,position:[113.7289,22.987976]}),c(!0)}},[e]),console.log(r),(0,l.useEffect)(()=>{r&&document.getElementById("map-marker")&&(console.log(document.getElementById("map-marker")),document.getElementById("map-marker"))},[r]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{id:"map-container",className:"map-container h-120"})})},o=()=>{let[e,s]=(0,l.useState)({name:"",email:"",subject:"",message:"",captcha:""}),[a,o]=(0,l.useState)(""),[h,x]=(0,l.useState)(!1),[u,f]=(0,l.useState)({}),g=()=>{let e="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789",s="";for(let a=0;a<6;a++)s+=e.charAt(Math.floor(Math.random()*e.length));o(s)},p=()=>{g()};(0,l.useEffect)(()=>{g()},[]);let j=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t}))},w=async t=>{if(t.preventDefault(),f({}),!e.captcha.trim())return void f({success:!1,message:"请输入验证码",errors:{captcha:"请输入验证码"}});if(e.captcha.toLowerCase()!==a.toLowerCase()){f({success:!1,message:"验证码错误，请重新输入",errors:{captcha:"验证码错误，请重新输入"}}),p();return}x(!0);try{let a=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();t.success?(f({success:!0,message:t.message}),s({name:"",email:"",subject:"",message:"",captcha:""})):f({success:!1,message:t.message,errors:t.errors})}catch(e){f({success:!1,message:"网络错误，请稍后重试"}),console.error("提交表单时出错:",e)}finally{x(!1)}};return(0,t.jsxs)("div",{className:"font-sans min-h-screen flex flex-col bg-white relative",children:[(0,t.jsx)(r.W,{src:"/images/partnerbg.png",alt:"",className:"h-110 w-100vw rounded-none  top-0 left-0 z-0",classNames:{wrapper:"h-110 !w-full rounded-none  top-0 left-0 !max-w-full",img:"h-110 !w-full rounded-none object-cover"}}),(0,t.jsxs)("div",{className:"md:w-6xl w-full md:flex justify-between m-auto z-10 -mt-70  bg-white",children:[(0,t.jsxs)("div",{className:"bg-primary md:flex-1 p-5 flex flex-col justify-center items-center",children:[(0,t.jsx)("h1",{className:"md:text-3xl text-2xl font-bold text-white",children:"化善智能装备（东莞）有限公司"}),(0,t.jsx)("p",{className:"text-white md:text-lg text-sm",children:"Huashan intelligent equipment (Dongguan) Co., Ltd"}),(0,t.jsx)(c.y,{className:"md:w-4/5 w-full bg-white m-10"}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("p",{className:"text-white",children:["电话：","0769-21681312","/","0769-21681312","/","0769-21681312"]}),(0,t.jsxs)("p",{className:"text-white",children:["邮箱：","info@casa-de-familia.com"]}),(0,t.jsxs)("p",{className:"text-white",children:["地址：","东莞市南城区南信产业国际D栋1107-1110室"]})]})]}),(0,t.jsx)("div",{className:"h-120 w-full md:w-140",children:(0,t.jsx)(d,{})})]}),(0,t.jsx)("main",{className:"flex-grow w-full py-12 px-4 md:px-0  z-10 bg-white mt-5",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,t.jsx)("div",{className:"grid ",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-8 transition-shadow duration-300",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-primary mb-6 text-center",children:"客户留言"}),(0,t.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,t.jsx)(n.r,{fullWidth:!0,label:"姓名",name:"name",value:e.name,onChange:j,required:!0}),(0,t.jsx)(n.r,{fullWidth:!0,label:"邮箱",name:"email",type:"email",value:e.email,onChange:j,required:!0})]}),(0,t.jsx)(n.r,{fullWidth:!0,label:"主题",name:"subject",value:e.subject,onChange:j,required:!0}),(0,t.jsx)(i.P,{fullWidth:!0,label:"消息",name:"message",type:"textarea",value:e.message,onChange:j,required:!0}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(n.r,{fullWidth:!0,label:"验证码",name:"captcha",value:e.captcha,onChange:j,required:!0}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{className:"relative h-12 flex-grow",children:(0,t.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-100 cursor-pointer rounded-md px-3",onClick:p,style:{maxHeight:"38px"},children:(0,t.jsx)("span",{className:"text-xl font-mono text-gray-800 tracking-wider",children:a})})})})]}),(0,t.jsx)(m.T,{type:"submit",color:"primary",className:"text-white w-full",disabled:h,children:h?"发送中...":"发送消息"})]}),u.message&&(0,t.jsxs)("div",{className:"mt-4 p-4 rounded-md ".concat(u.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,t.jsx)("p",{children:u.message}),u.errors&&Object.keys(u.errors).length>0&&(0,t.jsx)("ul",{className:"mt-2 list-disc list-inside text-sm",children:Object.values(u.errors).map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})]})})})})]})}}},e=>{e.O(0,[9,434,246,48,441,964,358],()=>e(e.s=3237)),_N_E=e.O()}]);