{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangjianxin/Documents/huashan-nodejs/src/app/services/markdownService.ts"],"sourcesContent":["\"use server\";\n\"use server\";\n\nimport fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\nimport { remark } from \"remark\";\nimport html from \"remark-html\";\n\n// 定义新闻项的接口\nexport type NewsItem = {\n  id: string;\n  title: string;\n  date: string;\n  summary: string;\n  content: string;\n  imageUrl?: string;\n  author?: string;\n  category?: string;\n  tags?: string[];\n};\n\n// 定义产品项的接口\nexport type ProductItem = {\n  id: string;\n  title: string;\n  category: string;\n  cate?: string;\n  price?: number;\n  description: string;\n  details: string;\n  images: string[];\n  features: string[];\n  content?: string;\n};\n\n/**\n * 读取并解析所有markdown文件\n * @returns 解析后的项数组\n */\nexport async function getAllMarkdownDocs<T extends NewsItem | ProductItem>(\n  dir: string\n): Promise<T[]> {\n  try {\n    const CONTENT_DIR = path.join(process.cwd(), `content/${dir}`);\n\n    // 检查content目录是否存在\n    if (!fs.existsSync(CONTENT_DIR)) {\n      console.warn(`Content directory ${CONTENT_DIR} does not exist`);\n      return [];\n    }\n\n    // 读取content目录下的所有markdown文件\n    const fileNames = fs\n      .readdirSync(CONTENT_DIR)\n      .filter((fileName) => fileName.endsWith(\".md\"));\n    // 处理每个文件\n    const items = await Promise.all(\n      fileNames.map(async (fileName) => {\n        const fullPath = path.join(CONTENT_DIR, fileName);\n        const fileContents = fs.readFileSync(fullPath, \"utf8\");\n\n        // 解析front-matter和内容\n        const matterResult = matter(fileContents);\n\n        // 将markdown转换为HTML\n        const processedContent = await remark()\n          .use(html)\n          .process(matterResult.content);\n        const contentHtml = processedContent.toString();\n\n        // 生成ID（使用文件名去掉.md后缀）\n        const id = fileName.replace(/\\.md$/, \"\");\n\n        // 根据目录类型提取相应的数据\n        if (dir === \"news\") {\n          const { title, date, summary, imageUrl, author, category, tags } =\n            matterResult.data;\n\n          // 确保必要字段存在\n          if (!title || !date) {\n            console.warn(`Skipping file ${fileName}: missing required fields`);\n            return null;\n          }\n\n          return {\n            id,\n            title: title || \"\",\n            date: date || \"\",\n            summary: summary || \"\",\n            content: contentHtml || \"\",\n            imageUrl: imageUrl || undefined,\n            author: author || undefined,\n            category: category || undefined,\n            tags: tags || undefined,\n          } as T;\n        } else if (dir === \"products\") {\n          const {\n            title,\n            category,\n            price,\n            cate,\n            description,\n            details,\n            images,\n            features,\n            content,\n          } = matterResult.data;\n\n          // 确保必要字段存在\n          if (!title || !category || !images) {\n            console.warn(`Skipping file ${fileName}: missing required fields`);\n            return null;\n          }\n\n          return {\n            id,\n            title: title || \"\",\n            category: category || \"\",\n            price: price || undefined,\n            cate: cate || \"\",\n            description: description || \"\",\n            details: details || \"\",\n            images: images || [],\n            features: features || [],\n            content: content || contentHtml,\n          } as T;\n        }\n\n        return null;\n      })\n    );\n\n    // 过滤掉null值，并根据不同类型排序\n    const validItems = items.filter((item) => item !== null);\n\n    // 新闻按日期降序排序\n    if (dir === \"news\") {\n      return validItems.sort(\n        (a, b) =>\n          new Date((b as NewsItem).date).getTime() -\n          new Date((a as NewsItem).date).getTime()\n      );\n    }\n\n    return validItems;\n  } catch (error) {\n    console.error(`Error reading ${dir} items:`, error);\n    return [];\n  }\n}\n\n/**\n * 根据ID获取单个新闻项\n * @param id - 新闻项ID\n * @returns 新闻项或undefined\n */\nexport async function getNewsItemById(\n  id: string\n): Promise<NewsItem | undefined> {\n  try {\n    const allNewsItems = await getAllMarkdownDocs<NewsItem>(\"news\");\n    return allNewsItems.find((item) => item.id === id);\n  } catch (error) {\n    console.error(`Error getting news item with id ${id}:`, error);\n    return undefined;\n  }\n}\n\n/**\n * 获取所有产品项\n * @returns 产品项数组\n */\nexport async function getAllProducts(): Promise<ProductItem[]> {\n  try {\n    return await getAllMarkdownDocs<ProductItem>(\"products\");\n  } catch (error) {\n    console.error(\"Error getting all products:\", error);\n    return [];\n  }\n}\n\n/**\n * 根据ID获取单个产品项\n * @param id - 产品项ID\n * @returns 产品项或undefined\n */\nexport async function getProductById(\n  id: string\n): Promise<ProductItem | undefined> {\n  try {\n    const allProducts = await getAllMarkdownDocs<ProductItem>(\"products\");\n    return allProducts.find((item) => item.id === id);\n  } catch (error) {\n    console.error(`Error getting product with id ${id}:`, error);\n    return undefined;\n  }\n}\n\n/**\n * 这个函数是为了向后兼容而保留的\n */\nexport async function getProductItem(\n  id: string\n): Promise<NewsItem | undefined> {\n  try {\n    const allNewsItems = await getAllMarkdownDocs<NewsItem>(\"products\");\n    return allNewsItems.find((item) => item.id === id);\n  } catch (error) {\n    console.error(`Error getting news item with id ${id}:`, error);\n    return undefined;\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangjianxin/Documents/huashan-nodejs/.next-internal/server/app/products/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getAllProducts as '00c19c77a679ea28e1bfef9f76961a31c8691c10d9'} from 'ACTIONS_MODULE0'\nexport {getProductById as '4024adaf002df9ae50615c28ae9b03015af8c2e198'} from 'ACTIONS_MODULE0'\nexport {getNewsItemById as '40a75bf95ca4253111342328abd3b08fdfc9e20411'} from 'ACTIONS_MODULE0'\nexport {getAllMarkdownDocs as '40bcf7cc09002f04db91567e907b1c4085b1713259'} from 'ACTIONS_MODULE0'\nexport {getProductItem as '40d7a367f94c150de52f218bd7e14ebe59d5a7580a'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangjianxin/Documents/huashan-nodejs/src/app/products/ProductContent.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductContent() from the server but ProductContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/products/ProductContent.tsx <module evaluation>\",\n    \"ProductContent\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,iBAAiB,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,qEACA","debugId":null}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangjianxin/Documents/huashan-nodejs/src/app/products/ProductContent.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductContent() from the server but ProductContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/products/ProductContent.tsx\",\n    \"ProductContent\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,iBAAiB,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,iDACA","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangjianxin/Documents/huashan-nodejs/src/app/products/page.tsx"],"sourcesContent":["import { Suspense } from \"react\";\nimport { getAllProducts, ProductItem } from \"../services/markdownService\";\nimport { ProductContent } from \"./ProductContent\";\n\n// 服务器组件，负责获取数据\nconst ProductsPage = async () => {\n  const ProductList = (await getAllProducts()) as ProductItem[];\n\n  return (\n    <div>\n      {/* Banner区域 */}\n      <div className=\"bg-gradient-to-r relative overflow-hidden from-blue-600 to-purple-600 group\">\n        <div className=\"absolute inset-0 bg-cover bg-center opacity-30 group-hover:scale-105 transition-transform duration-1000\"></div>\n        <div className=\"absolute inset-0 bg-gradient-to-r from-blue-900/70 to-purple-900/70\"></div>\n        <div className=\"py-20 inset-0 flex flex-col items-center justify-center text-center px-4\">\n          <h1 className=\"text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg\">\n            产品中心\n          </h1>\n          <div className=\"text-xl md:text-xl text-blue-50 max-w-4xl mt-10 mx-auto opacity-90 font-light leading-relaxed\">\n            欢迎进入化善智能装备（东莞）有限公司工具矩阵。我们致力于打造极致高效、可靠稳定的专业工具，助您横扫工作中的繁琐与障碍。这里没有华而不实的功能，每一款产品都经过千锤百炼，只为让您专注于创造本身，而非工具的限制。\n            这里总有一款利器，能成为您最值得信赖的“生产力倍增器”。探索工具，解锁高效能工作新体验。\n          </div>\n        </div>\n      </div>\n\n      <Suspense\n        fallback={\n          <div className=\"container mx-auto px-4 py-12 text-center\">\n            加载中...\n          </div>\n        }\n      >\n        <ProductContent productList={ProductList} />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default ProductsPage;\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEA,eAAe;AACf,MAAM,eAAe;IACnB,MAAM,cAAe,MAAM,CAAA,GAAA,yIAAA,CAAA,iBAAc,AAAD;IAExC,qBACE,8OAAC;;0BAEC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAgE;;;;;;0CAG9E,8OAAC;gCAAI,WAAU;0CAAgG;;;;;;;;;;;;;;;;;;0BAOnH,8OAAC,qMAAA,CAAA,WAAQ;gBACP,wBACE,8OAAC;oBAAI,WAAU;8BAA2C;;;;;;0BAK5D,cAAA,8OAAC,yIAAA,CAAA,iBAAc;oBAAC,aAAa;;;;;;;;;;;;;;;;;AAIrC;uCAEe","debugId":null}}]
}